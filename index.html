<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Cicada Web Game</title>
Â  <style>
Â  Â  *{box-sizing:border-box}
Â  Â  body{
Â  Â  Â  margin:0;
Â  Â  Â  font-family:Arial,Helvetica,sans-serif;
Â  Â  Â  background:#000;
Â  Â  Â  color:#0f0;
Â  Â  Â  display:flex;
Â  Â  Â  justify-content:center;
Â  Â  Â  align-items:center;
Â  Â  Â  min-height:100vh;
Â  Â  }
Â  Â  .container{
Â  Â  Â  max-width:640px;
Â  Â  Â  width:90%;
Â  Â  Â  padding:2rem;
Â  Â  Â  border:2px solid #0f0;
Â  Â  Â  background:#111;
Â  Â  Â  border-radius:10px;
Â  Â  Â  box-shadow:0 0 20px #0f0;
Â  Â  Â  text-align:center;
Â  Â  }
Â  Â  input[type=text]{
Â  Â  Â  width:80%;
Â  Â  Â  padding:8px;
Â  Â  Â  margin-top:12px;
Â  Â  Â  background:#000;
Â  Â  Â  color:#0f0;
Â  Â  Â  border:1px solid #0f0;
Â  Â  Â  border-radius:5px;
Â  Â  Â  font-size:1rem;
Â  Â  }
Â  Â  button{
Â  Â  Â  margin-top:12px;
Â  Â  Â  padding:10px 24px;
Â  Â  Â  font-size:1rem;
Â  Â  Â  background:#0f0;
Â  Â  Â  color:#000;
Â  Â  Â  border:none;
Â  Â  Â  border-radius:5px;
Â  Â  Â  cursor:pointer;
Â  Â  }
Â  Â  button:hover{background:#0d0}
Â  Â  .hidden{display:none}
Â  Â  .stage-title{margin-top:0}
Â  Â  .hint{font-size:.9rem;color:#9f9}
Â  </style>
</head>
<body>
Â  <div class="container">
Â  Â  <h1>Cicada-style Web Game</h1>

Â  Â  Â  Â  <h2 id="stageTitle" class="stage-title"></h2>
Â  Â  <p id="cipher"></p>
Â  Â  <p id="hint" class="hint"></p>

Â  Â  <input id="answer" type="text" placeholder="Enter your answer here" autocomplete="off" />
Â  Â  <button id="submitBtn">Submit</button>

Â  Â  <p id="message" class="hidden"></p>
Â  </div>

Â  <script>
Â  Â  /* === GAME DATA  ======================================================= */
Â  Â  const stages = [
Â  Â  Â  {
Â  Â  Â  Â  title: "Stage 1",
Â  Â  Â  Â  cipher: "VJKU KU C VGUV",          // Caesar âˆ’2 â†’ THIS IS A TEST
Â  Â  Â  Â  hint:Â  "Caesar cipher, shift âˆ’2",
Â  Â  Â  Â  answer:"THIS IS A TEST"
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  title: "Stage 2",
Â  Â  Â  Â  cipher: "GUR YRGGREF JNER YRNQVAT ZR GB LBH", // ROT-13
Â  Â  Â  Â  hint:Â  "ROT-13",
Â  Â  Â  Â  answer:"THE LETTERS WERE LEADING ME TO YOU"
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  title: "Stage 3",
Â  Â  Â  Â  cipher: "SXQncyBvbmx5IHRoZSBpbml0aWFsLg==", // Base-64
Â  Â  Â  Â  hint:Â  "Base-64",
Â  Â  Â  Â  answer:"IT'S ONLY THE INITIAL."
Â  Â  Â  },
      // --- NEW STAGES START HERE ---
Â  Â  Â  {
Â  Â  Â  Â  title: "Stage 4",
Â  Â  Â  Â  cipher: "ZNK WYXTXOIQDON YKIXKZ QJ INA KXDAZNK", // Atbash cipher (A=Z, B=Y, etc.)
Â  Â  Â  Â  hint:Â  "Mirror image alphabet.",
Â  Â  Â  Â  answer:"AMP BUILDING SECRET IS THE PARENT" // Example answer, you can change this
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  title: "Stage 5",
Â  Â  Â  Â  cipher: "KS WI KMI OZ BLS VUM", // VigenÃ¨re cipher, keyword: KEY
Â  Â  Â  Â  hint:Â  "A polyalphabetic cipher. The keyword is simple.",
Â  Â  Â  Â  answer:"IT IS ALL FOR YOU" // Example answer, you can change this
Â  Â  Â  }
      // --- NEW STAGES END HERE ---
Â  Â  ];

Â  Â  /* === GAME ENGINE  ===================================================== */
Â  Â  let current = 0; // Start at stage 0 (or change this if you want to resume from a specific stage)
Â  Â  const dom = {
Â  Â  Â  title:Â  Â document.getElementById("stageTitle"),
Â  Â  Â  cipher:Â  document.getElementById("cipher"),
Â  Â  Â  hint:Â  Â  document.getElementById("hint"),
Â  Â  Â  answer:Â  document.getElementById("answer"),
Â  Â  Â  btn:Â  Â  Â document.getElementById("submitBtn"),
Â  Â  Â  msg:Â  Â  Â document.getElementById("message")
Â  Â  };

Â  Â  function loadStage(idx){
      // Check if the index is valid before trying to load
      if (idx < 0 || idx >= stages.length) {
         console.error("Invalid stage index:", idx);
         // Optionally handle this case, e.g., show a final message or loop back
         dom.cipher.textContent = "Error: Invalid stage requested or game data missing.";
         dom.hint.textContent   = "";
         dom.answer.classList.add("hidden");
         dom.btn.classList.add("hidden");
         return; // Stop execution if the index is out of bounds
      }

Â  Â  Â  const {title,cipher,hint} = stages[idx];
Â  Â  Â  dom.title.textContentÂ  = title;
Â  Â  Â  dom.cipher.textContent = cipher;
Â  Â  Â  dom.hint.textContentÂ  Â = "Hint: " + hint;
Â  Â  Â  dom.answer.valueÂ  Â  Â  Â = "";
Â  Â  Â  dom.msg.classList.add("hidden");
      dom.answer.classList.remove("hidden"); // Ensure input is visible
      dom.btn.classList.remove("hidden");    // Ensure button is visible
Â  Â  Â  dom.answer.focus();
Â  Â  }

Â  Â  function check(){
      // Check if the current stage index is valid
      if (current < 0 || current >= stages.length) {
         console.error("Cannot check answer for invalid stage index:", current);
         return; // Prevent checking if the stage index is invalid
      }

Â  Â  Â  const user = dom.answer.value.trim().toUpperCase();
Â  Â  Â  const correct = stages[current].answer.toUpperCase(); // Ensure comparison is case-insensitive
Â  Â  Â  if(user === correct){
Â  Â  Â  Â  dom.msg.textContent = "âœ…  Correct!";
Â  Â  Â  Â  dom.msg.style.color = "#0f0";
Â  Â  Â  Â  dom.msg.classList.remove("hidden");

Â  Â  Â  Â  current++;
Â  Â  Â  Â  if(current < stages.length){
Â  Â  Â  Â  Â  // small delay for dramatic effect
Â  Â  Â  Â  Â  setTimeout(()=>loadStage(current), 1200);
Â  Â  Â  Â  }else{
Â  Â  Â  Â  Â  dom.title.textContent = "ðŸŽ‰ VICTORY!"; // Changed title for end game
Â  Â  Â  Â  Â  dom.cipher.textContent = "CONGRATULATIONS â€” YOU HAVE SOLVED ALL AVAILABLE PUZZLES!";
Â  Â  Â  Â  Â  dom.hint.textContentÂ  Â = "";
Â  Â  Â  Â  Â  dom.answer.classList.add("hidden");
Â  Â  Â  Â  Â  dom.btn.classList.add("hidden");
Â  Â  Â  Â  }
Â  Â  Â  }else{
Â  Â  Â  Â  dom.msg.textContent = "âŒ  Incorrect. Try again.";
Â  Â  Â  Â  dom.msg.style.color = "#f00";
Â  Â  Â  Â  dom.msg.classList.remove("hidden");
Â  Â  Â  }
Â  Â  }

Â  Â  dom.btn.addEventListener("click", check);
Â  Â  dom.answer.addEventListener("keydown", e => {
Â  Â  Â  if(e.key === "Enter") check();
Â  Â  });

Â  Â  /* kick-off */
   // You can set 'current' here if you want to test a specific stage, e.g., current = 3;
Â  Â  loadStage(current);
Â  </script>
</body>
</html>
